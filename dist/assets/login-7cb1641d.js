import{u as m,r as a,j as e,a as u,W as g}from"./index-17e537d5.js";import{b as x,S as o,C as p,D as f,T as j,L as S}from"./css-0d0e85b2.js";import{B as b,L as k,T as y}from"./logo-36bec916.js";import{u as v}from"./useTheme-c5b7bcd7.js";function C(){const i=v(),r=m(),[s,l]=a.useState("");a.useState(!1);const[L,c]=a.useState(null);a.useEffect(()=>{localStorage.getItem("authState")&&localStorage.removeItem("authState")},[]);const d=()=>{fetch("https://backend.wakepackgo.com:8080/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s})}).then(t=>t.json()).then(t=>{if(t.status==="FAILURE"){alert(t.message);return}c(t),t.body.email=s,console.log(t),r("/validate-otp",{state:t})}).catch(t=>{console.error(t),alert(t)})},h=e.jsxs(e.Fragment,{children:[e.jsx(o,{spacing:3,children:e.jsx(j,{name:"email",label:"Email address",value:s,onChange:n=>l(n.target.value)})}),e.jsx(S,{fullWidth:!0,size:"large",type:"submit",variant:"contained",style:{backgroundColor:"#122b3d"},onClick:d,sx:{mt:3},children:"Send OTP"})]});return e.jsxs(b,{sx:{...x({color:u(i.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"}),height:1},children:[e.jsx(k,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),e.jsx(o,{alignItems:"center",justifyContent:"center",sx:{height:1},children:e.jsxs(p,{sx:{p:5,width:1,maxWidth:420},children:[e.jsx(y,{variant:"h4",children:"Sign in to WakePackGo Portal"}),e.jsx(f,{sx:{my:3}}),h]})})]})}function W(){return e.jsxs(e.Fragment,{children:[e.jsx(g,{children:e.jsx("title",{children:" Login | WakePackGo "})}),e.jsx(C,{})]})}export{W as default};
